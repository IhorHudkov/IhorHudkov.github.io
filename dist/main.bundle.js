(()=>{var e,n=document.forms.eventForm,o=n.name,a=n.participants,t=n.day,r=n.time;window.onload=function(){var c=indexedDB.open("calendar",1);c.onupgradeneeded=function(){var n=(e=c.result).createObjectStore("events",{keyPath:"id",autoIncrement:!0});n.createIndex("name","name",{unique:!1}),n.createIndex("participants","participants",{unique:!1}),n.createIndex("dayTime","dayTime",{unique:!0}),console.log("Database setup complete")},c.onerror=function(){console.error("Error",c.error)},c.onsuccess=function(){console.log("Database opened succesfully"),e=c.result},n.onsubmit=function(n){n.preventDefault();var c={name:o.value,participants:a.value,dayTime:t.value+r.value},i=e.transaction(["events"],"readwrite");i.objectStore("events").add(c).onsuccess=function(){o.value="",a.value="Choose...",t.value="Choose...",r.value="Choose..."},i.oncomplete=function(){console.log("Transaction completed: database modification finished."),console.log("Ok!")},i.onerror=function(){console.log("Transaction not opened due to error")}}}})();